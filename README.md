# ASDF
Codebase supporting "An automatic snow detection framework from repeat digital photography".  
The automatic snow detection framework (ASDF) aims to estimate the fractional snow cover (FSC) from repeat digital photography for plant functional types (PFTs). ASDF provides a fully automatic processing flow without manually labeled samples, which makes ASDF much more convenient for numerous repeat digital images. The framework uses machine learning to obtain adjustable classification criteria automatically rather than using constant thresholds, resulting in a pixel-level classification for images. The ASDF was designed based on PhenoCam Network images and has been modeled and tested in 6 PFTs, including agriculture, grassland, tundra, shrub, deciduous broadleaf, and evergreen needleleaf. It has higher accuracy than previous unsupervised methods, especially for vegetation with complex surfaces. 


Imagery Dataset  
The images used in this study are available from PhenoCam Dataset V2.0 (Seyednasrollah et al., 2019) and the PhenoCam Network (https://phenocam.nau.edu/webcam/network/download/). The detailed information on images used in this study can be found in image_list.


Requirements  
```
Python 3.10  
opencv-python==4.7.0.72  
numpy==1.26.0  
cupy-cuda11x==13.4.0  
pandas==2.2.3  
scikit-learn==1.3.0  
scipy==1.11.3  
joblib==1.2.0  
rich==13.3.5  
```

Contents Description  
```
├── PhenoSnow/         # Source code of ASDF  
├── demo/              # Quick demonstration (Using pre-trained models)  
├── image_list/        # Images used in this study  
├── mask/              # Masks used in this study  
├── output/            # Intermediate and output files generated by the algorithm  
|   ├── construction/  # Results of the dataset for model construction  
|   └── test/          # Results of the test dataset
├── site_list.csv      # PhenoCam sites in this study
└── test_run.py        # Test script  
```

The test_run.py is the startup file used to run the entire ASDF process. The process can be executed after placing the image time series in the input folder and specifying the paths of the site_list.csv, mask files, and output folder.

The demo folder contains pre-trained models and input files. Please complete the specified path in the demo.py file and then execute it.
